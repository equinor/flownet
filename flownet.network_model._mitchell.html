

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>flownet.network_model._mitchell module &mdash; FlowNet  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/configsuite_ext.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/configsuite_ext.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="flownet.network_model._network_model module" href="flownet.network_model._network_model.html" />
    <link rel="prev" title="flownet.network_model._hull module" href="flownet.network_model._hull.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #eeeeee" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/flownet_logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_file.html">Configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">FlowNet Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html#flownet-package">flownet package</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About FlowNet</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FlowNet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="api.html">FlowNet Python API</a> &raquo;</li>
        
          <li><a href="flownet.network_model.html">flownet.network_model package</a> &raquo;</li>
        
      <li>flownet.network_model._mitchell module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/flownet.network_model._mitchell.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-flownet.network_model._mitchell">
<span id="flownet-network-model-mitchell-module"></span><h1>flownet.network_model._mitchell module<a class="headerlink" href="#module-flownet.network_model._mitchell" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="flownet.network_model._mitchell._generate_candidates">
<span class="sig-prename descclassname"><span class="pre">flownet.network_model._mitchell.</span></span><span class="sig-name descname"><span class="pre">_generate_candidates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_candidates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_min</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_min</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_min</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perforation_hull</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">scipy.spatial.qhull.Delaunay</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concave_hull_bounding_boxes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#flownet.network_model._mitchell._generate_candidates" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_candidates</strong> – Number of candidates to consider for per additional flow node,</p></li>
<li><p><strong>x_min</strong> – minimum x coordinate of (scaled) perforations,</p></li>
<li><p><strong>x_max</strong> – maximum x coordinate of (scaled) perforations,</p></li>
<li><p><strong>y_min</strong> – minimum y coordinate of (scaled) perforations,</p></li>
<li><p><strong>y_max</strong> – maximum y coordinate of (scaled) perforations,</p></li>
<li><p><strong>z_min</strong> – minimum z coordinate of (scaled) perforations,</p></li>
<li><p><strong>z_max</strong> – maximum z coordinate of (scaled) perforations,</p></li>
<li><p><strong>perforation_hull</strong> – Convex hull of delaunay triangulated (scaled) perforations,</p></li>
<li><p><strong>Numpy array with x</strong> (<em>concave_hull_bounding_boxes</em>) – </p></li>
<li><p><strong>y</strong> – </p></li>
<li><p><strong>min/max boundingboxes for each grid block</strong> (<em>z</em>) – </p></li>
</ul>
</dd>
</dl>
<p>:param :</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Array of length num_candidates containing x coordinates of candidates,
y_candidate: Array of length num_candidates containing y coordinates of candidates,
z_candidate: Array of length num_candidates containing z coordinates of candidates,</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>x_candidate</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flownet.network_model._mitchell.mitchell_best_candidate">
<span class="sig-prename descclassname"><span class="pre">flownet.network_model._mitchell.</span></span><span class="sig-name descname"><span class="pre">mitchell_best_candidate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">perforations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_added_flow_nodes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_candidates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hull_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">place_nodes_in_volume_reservoir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concave_hull_bounding_boxes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mitchell_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'normal'</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#flownet.network_model._mitchell.mitchell_best_candidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Python implementation of a modified Mitchell’s Best-Candidate Algorithm to generate additional flow nodes in
real field cases.
The algorithm will generate locations for additional flow nodes where the distance to all existing flow nodes
is maximized. The added flow nodes are located inside the (possibly scaled) convex hull of the
supplied perforations.
:param perforations: Python list of real well coordinate tuples</p>
<blockquote>
<div><p>[(xr_1, yr_1, zr_1), …, (xr_N, yr_N, zr_N)]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_added_flow_nodes</strong> – Number of additional flow nodes to generate</p></li>
<li><p><strong>num_candidates</strong> – Number of candidates to consider per additional flow nodes</p></li>
<li><p><strong>place_nodes_in_volume_reservoir</strong> – When true, additional nodes will initially be placed inside
the bounding box of the reservoir or layer instead of the bounding box of the well perforations.</p></li>
<li><p><strong>hull_factor</strong> – Factor to linearly scale the convex hull with. Factor will
scale the distance of each point from the centroid of all the points.
Default defined in config parser is 1.2.</p></li>
<li><p><strong>concave_hull_bounding_boxes</strong> – Numpy array with x, y, z min/max boundingboxes for each grid block</p></li>
<li><p><strong>random_seed</strong> – Random seed to control the reproducibility of the FlowNet.</p></li>
<li><p><strong>mitchell_mode</strong> – Normal or fast mode to run the mitchell’s best candidate algorithm in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Python list of real/original and added flow node coordinate tuples</dt><dd><p>[(xr_1, yr_1, zr_1), …, (xr_N, yr_N, zr_N), (xi_1, yi1, zi1)
… (xi_n_i, yi_n_i, zi_n_i)]</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flownet.network_model._mitchell.scale_convex_hull_perforations">
<span class="sig-prename descclassname"><span class="pre">flownet.network_model._mitchell.</span></span><span class="sig-name descname"><span class="pre">scale_convex_hull_perforations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">perforations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hull_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">,</span> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#flownet.network_model._mitchell.scale_convex_hull_perforations" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear scaling of the perforation points based on the hull_factor. Factor will
scale the distance of each point from the centroid of all the points.
These scaled points are used to create a convex hull in which additional flow nodes will be placed.
:param perforations: Python list of real well coordinate tuples</p>
<blockquote>
<div><p>[(xr_1, yr_1, zr_1), …, (xr_N, yr_N, zr_N)]</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hull_factor</strong> – Factor to linearly scale the convex hull with. Factor will
scale the distance of each point from the centroid of all the points.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The tuple consisting of numpy arrays of x,y,z moved points based on the hull_factor,
which are used further on in the code to create a convex hull around the real wells (perforations).</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="flownet.network_model._network_model.html" class="btn btn-neutral float-right" title="flownet.network_model._network_model module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="flownet.network_model._hull.html" class="btn btn-neutral float-left" title="flownet.network_model._hull module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Equinor.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>